

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Technical Documentation &mdash; Pypianoroll  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Multitrack Class" href="multitrack.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="save_load.html">Save &amp; Load</a></li>
<li class="toctree-l1"><a class="reference internal" href="read_write.html">Read &amp; Write</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualization.html">Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="metrics.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="track.html">Track Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="multitrack.html">Multitrack Class</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Technical Documentation</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Pypianoroll</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Technical Documentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/doc.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-pypianoroll">
<span id="technical-documentation"></span><h1>Technical Documentation<a class="headerlink" href="#module-pypianoroll" title="Permalink to this headline">¶</a></h1>
<p>A Python library for handling multitrack pianorolls.</p>
<p>Pypianoroll is an open source Python library for working with multitrack
pianorolls. It provides essential tools for handling multitrack
pianorolls, including efficient I/O as well as manipulation, visualization
and evaluation tools.</p>
<div class="section" id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Manipulate multitrack piano rolls intuitively</p></li>
<li><p>Visualize multitrack piano rolls beautifully</p></li>
<li><p>Save and load multitrack piano rolls in a space-efficient format</p></li>
<li><p>Parse MIDI files into multitrack piano rolls</p></li>
<li><p>Write multitrack piano rolls into MIDI files</p></li>
</ul>
<dl class="py class">
<dt id="pypianoroll.Multitrack">
<em class="property">class </em><code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">Multitrack</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">resolution</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tempo</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">downbeat</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tracks</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack" title="Permalink to this definition">¶</a></dt>
<dd><p>A container for multitrack piano rolls.</p>
<p>This is the core class of Pypianoroll.</p>
<dl class="py attribute">
<dt id="pypianoroll.Multitrack.resolution">
<code class="sig-name descname">resolution</code><a class="headerlink" href="#pypianoroll.Multitrack.resolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Time steps per quarter note.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pypianoroll.Multitrack.tempo">
<code class="sig-name descname">tempo</code><a class="headerlink" href="#pypianoroll.Multitrack.tempo" title="Permalink to this definition">¶</a></dt>
<dd><p>Tempo (in qpm) at each time step. The length is the total number of
time steps.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ndarray, dtype={int, float}, shape=(?, 1), optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pypianoroll.Multitrack.downbeat">
<code class="sig-name descname">downbeat</code><a class="headerlink" href="#pypianoroll.Multitrack.downbeat" title="Permalink to this definition">¶</a></dt>
<dd><p>A boolean array that indicates whether the time step contains a
downbeat (i.e., the first time step of a bar). The length is the total
number of time steps.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ndarray, dtype=bool, shape=(?, 1), optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pypianoroll.Multitrack.name">
<code class="sig-name descname">name</code><a class="headerlink" href="#pypianoroll.Multitrack.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Multitrack name.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pypianoroll.Multitrack.tracks">
<code class="sig-name descname">tracks</code><a class="headerlink" href="#pypianoroll.Multitrack.tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>Music tracks.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list of <a class="reference internal" href="#pypianoroll.Track" title="pypianoroll.Track"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypianoroll.Track</span></code></a> objects, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.append">
<code class="sig-name descname">append</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">track</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.append"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Append a <code class="xref py py-class docutils literal notranslate"><span class="pre">multitrack.Track</span></code> object to the track list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>track</strong> (<em>pianoroll.Track</em>) – Track to append to the track list.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.assign_constant">
<code class="sig-name descname">assign_constant</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.assign_constant"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.assign_constant" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign a constant value to all nonzeros entries of the piano rolls.</p>
<p>If a piano roll is not binarized, its data type will be preserved. If a
piano roll is binarized, cast it to the dtype of <cite>value</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<em>int</em><em> or </em><em>float</em>) – Value to assign to all the nonzero entries in the piano rolls.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.binarize">
<code class="sig-name descname">binarize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">threshold</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.binarize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.binarize" title="Permalink to this definition">¶</a></dt>
<dd><p>Binarize the piano rolls.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>threshold</strong> (<em>int</em><em> or </em><em>float</em>) – Threshold to binarize the piano rolls. Defaults to zero.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.clip">
<code class="sig-name descname">clip</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lower</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">upper</span><span class="o">=</span><span class="default_value">127</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.clip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.clip" title="Permalink to this definition">¶</a></dt>
<dd><p>Clip the piano rolls by a lower bound and an upper bound.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lower</strong> (<em>int</em><em> or </em><em>float</em>) – Lower bound to clip the piano rolls. Defaults to 0.</p></li>
<li><p><strong>upper</strong> (<em>int</em><em> or </em><em>float</em>) – Upper bound to clip the piano rolls. Defaults to 127.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.count_downbeat">
<code class="sig-name descname">count_downbeat</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.count_downbeat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.count_downbeat" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of down beats.</p>
<p>The return value is calculated based solely on attribute <cite>downbeat</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number of down beats.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.downsample">
<code class="sig-name descname">downsample</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">factor</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.downsample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.downsample" title="Permalink to this definition">¶</a></dt>
<dd><p>Downsample the piano rolls by the given factor.</p>
<p>Attribute <cite>resolution</cite> will be updated accordingly as well.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>factor</strong> (<em>int</em>) – Ratio of the original resolution to the desired resolution.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.get_active_length">
<code class="sig-name descname">get_active_length</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.get_active_length"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.get_active_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the maximum active length of the piano rolls (in time steps).</p>
<p>The active length is defined as the length of the piano roll without
trailing silence.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The maximum active length of the piano rolls (in time steps).</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.get_active_pitch_range">
<code class="sig-name descname">get_active_pitch_range</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.get_active_pitch_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.get_active_pitch_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the active pitch range as a tuple (lowest, highest).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>lowest</strong> (<em>int</em>) – Lowest active pitch in all the piano rolls.</p></li>
<li><p><strong>highest</strong> (<em>int</em>) – Highest active pitch in all the piano rolls.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.get_downbeat_steps">
<code class="sig-name descname">get_downbeat_steps</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.get_downbeat_steps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.get_downbeat_steps" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the indices of time steps that contain downbeats.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>downbeat_steps</strong> – Indices of time steps that contain downbeats.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.get_empty_tracks">
<code class="sig-name descname">get_empty_tracks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.get_empty_tracks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.get_empty_tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the indices of tracks with empty pianorolls.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Indices of tracks with empty pianorolls.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.get_max_length">
<code class="sig-name descname">get_max_length</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.get_max_length"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.get_max_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the maximum length of the piano rolls (in time steps).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>max_length</strong> – Maximum length of the piano rolls (in time step).</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.get_merged_pianoroll">
<code class="sig-name descname">get_merged_pianoroll</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'sum'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.get_merged_pianoroll"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.get_merged_pianoroll" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the merged piano roll.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mode</strong> (<em>{'sum'</em><em>, </em><em>'max'</em><em>, </em><em>'any'}</em>) – <p>A string that indicates the merging strategy to apply along the
track axis. Default to ‘sum’.</p>
<ul class="simple">
<li><p>In ‘sum’ mode, the merged pianoroll is the sum of all the
pianorolls. Note that for binarized pianorolls, integer summation
is performed.</p></li>
<li><p>In ‘max’ mode, for each pixel, the maximum value among all the
pianorolls is assigned to the merged pianoroll.</p></li>
<li><p>In ‘any’ mode, the value of a pixel in the merged pianoroll is
True if any of the pianorolls has nonzero value at that pixel;
False if all pianorolls are inactive (zero-valued) at that pixel.</p></li>
</ul>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Merged piano roll.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray, shape=(?, 128)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.get_stacked_pianoroll">
<code class="sig-name descname">get_stacked_pianoroll</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.get_stacked_pianoroll"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.get_stacked_pianoroll" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a stacked multitrack piano-roll as a tensor.</p>
<p>The shape of the return array is (n_time_steps, 128, n_tracks).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Stacked piano roll.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>ndarray, shape=(?, 128, ?)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.is_binarized">
<code class="sig-name descname">is_binarized</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.is_binarized"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.is_binarized" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if all piano rolls are binarized, otherwise False.</p>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.merge_tracks">
<code class="sig-name descname">merge_tracks</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">track_indices</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'sum'</span></em>, <em class="sig-param"><span class="n">program</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">is_drum</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">'merged'</span></em>, <em class="sig-param"><span class="n">remove_source</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.merge_tracks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.merge_tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge certain tracks into a single track.</p>
<p>Merge the piano rolls of certain tracks (specified by <cite>track_indices</cite>).
The merged track will be appended to the end of the track list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>track_indices</strong> (<em>list</em>) – Indices of tracks to be merged. Defaults to merge all the tracks.</p></li>
<li><p><strong>mode</strong> (<em>{'sum'</em><em>, </em><em>'max'</em><em>, </em><em>'any'}</em>) – <p>A string that indicates the merging strategy to apply along the
track axis. Default to ‘sum’.</p>
<ul>
<li><p>In ‘sum’ mode, the merged pianoroll is the sum of the collected
pianorolls. Note that for binarized pianorolls, integer summation
is performed.</p></li>
<li><p>In ‘max’ mode, for each pixel, the maximum value among the
collected pianorolls is assigned to the merged pianoroll.</p></li>
<li><p>In ‘any’ mode, the value of a pixel in the merged pianoroll is
True if any of the collected pianorolls has nonzero value at that
pixel; False if all the collected pianorolls are inactive
(zero-valued) at that pixel.</p></li>
</ul>
</p></li>
<li><p><strong>program</strong> (<em>int</em><em>, </em><em>0-127</em><em>, </em><em>optional</em>) – Program number according to General MIDI specification [1].
Defaults to 0 (Acoustic Grand Piano).</p></li>
<li><p><strong>is_drum</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether it is a percussion track. Defaults to False.</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – Track name. Defaults to <cite>merged</cite>.</p></li>
<li><p><strong>remove_source</strong> (<em>bool</em>) – Whether to remove the source tracks from the track list. Defaults
to False.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">References</p>
<p>[1] <a class="reference external" href="https://www.midi.org/specifications/item/gm-level-1-sound-set">https://www.midi.org/specifications/item/gm-level-1-sound-set</a></p>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.pad">
<code class="sig-name descname">pad</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pad_length</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.pad"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.pad" title="Permalink to this definition">¶</a></dt>
<dd><p>Pad the piano rolls with zeros at the end along the time axis.</p>
<p class="rubric">Notes</p>
<p>The lengths of the resulting piano rolls are not guaranteed to be
the same. See <a class="reference internal" href="#pypianoroll.Multitrack.pad_to_same" title="pypianoroll.Multitrack.pad_to_same"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pypianoroll.Multitrack.pad_to_same()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pad_length</strong> (<em>int</em>) – Length to pad along the time axis with zeros.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.pad_to_multiple">
<code class="sig-name descname">pad_to_multiple</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">factor</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.pad_to_multiple"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.pad_to_multiple" title="Permalink to this definition">¶</a></dt>
<dd><p>Pad the piano rolls along the time axis to a multiple of <cite>factor</cite>.</p>
<p>Pad the piano rolls with zeros at the end along the time axis of the
minimum length that makes the lengths of the resulting piano rolls
multiples of <cite>factor</cite>.</p>
<p class="rubric">Notes</p>
<p>The resulting pianoroll lengths are not guaranteed to be the same. See
<a class="reference internal" href="#pypianoroll.Multitrack.pad_to_same" title="pypianoroll.Multitrack.pad_to_same"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pypianoroll.Multitrack.pad_to_same()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>factor</strong> (<em>int</em>) – The value which the length of the resulting pianorolls will be a
multiple of.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.pad_to_same">
<code class="sig-name descname">pad_to_same</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.pad_to_same"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.pad_to_same" title="Permalink to this definition">¶</a></dt>
<dd><p>Pad piano rolls along the time axis to have the same length.</p>
<p>Pad shorter piano rolls with zeros at the end along the time axis so
that the resulting piano rolls have the same length.</p>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the multitrack and/or save a plot of it.</p>
<p>See <a class="reference internal" href="#pypianoroll.plot_multitrack" title="pypianoroll.plot_multitrack"><code class="xref py py-func docutils literal notranslate"><span class="pre">pypianoroll.plot_multitrack()</span></code></a> for full documentation.</p>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.remove_empty_tracks">
<code class="sig-name descname">remove_empty_tracks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.remove_empty_tracks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.remove_empty_tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove tracks with empty pianorolls.</p>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.remove_tracks">
<code class="sig-name descname">remove_tracks</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">track_indices</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.remove_tracks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.remove_tracks" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove certain tracks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>track_indices</strong> (<em>list</em>) – Indices of the tracks to remove.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">compressed</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save to a (compressed) NPZ file.</p>
<p>This could be later loaded by <a class="reference internal" href="#pypianoroll.load" title="pypianoroll.load"><code class="xref py py-func docutils literal notranslate"><span class="pre">pypianoroll.load()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – Path to the NPZ file to save.</p></li>
<li><p><strong>compressed</strong> (<em>bool</em>) – Whether to save to a compressed NPZ file. Defaults to True.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>To reduce the file size, the piano rolls are first converted to
instances of <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csc_matrix.html#scipy.sparse.csc_matrix" title="(in SciPy v1.5.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.sparse.csc_matrix</span></code></a>. The component arrays
are then collected and saved to a npz file.</p>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.to_pretty_midi">
<code class="sig-name descname">to_pretty_midi</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">default_tempo</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">default_velocity</span><span class="o">=</span><span class="default_value">64</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.to_pretty_midi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.to_pretty_midi" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert to a <a class="reference external" href="https://craffel.github.io/pretty-midi/index.html#pretty_midi.PrettyMIDI" title="(in pretty_midi v0.2.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pretty_midi.PrettyMIDI</span></code></a> object.</p>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>Tempo changes are not supported by now.</p></li>
<li><p>The velocities of the converted pianorolls are clipped to [0, 127].</p></li>
<li><p>Adjacent nonzero values of the same pitch will be considered a single
note with their mean as its velocity.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>default_tempo</strong> (<em>int</em>) – Default tempo to use. Defaults to the first element of attribute
<cite>tempo</cite>.</p></li>
<li><p><strong>default_velocity</strong> (<em>int</em>) – Default velocity to assign to binarized tracks. Defaults to 64.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>pm</strong> – Converted <a class="reference external" href="https://craffel.github.io/pretty-midi/index.html#pretty_midi.PrettyMIDI" title="(in pretty_midi v0.2.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pretty_midi.PrettyMIDI</span></code></a> instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>pretty_midi.PrettyMIDI</cite> object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.transpose">
<code class="sig-name descname">transpose</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">semitone</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.transpose"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.transpose" title="Permalink to this definition">¶</a></dt>
<dd><p>Transpose the piano rolls by a number of semitones.</p>
<p>Positive values are for a higher key, while negative values are for
a lower key. Drum tracks are ignored.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>semitone</strong> (<em>int</em>) – Number of semitones to transpose the piano rolls.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.trim_trailing_silence">
<code class="sig-name descname">trim_trailing_silence</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.trim_trailing_silence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.trim_trailing_silence" title="Permalink to this definition">¶</a></dt>
<dd><p>Trim the trailing silences of the piano rolls.</p>
<p>All the piano rolls will have the same length after the trimming.</p>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.validate">
<code class="sig-name descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise a proper error if any attribute is invalid.</p>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Multitrack.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/multitrack.html#Multitrack.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Multitrack.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write to a MIDI file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – Path to the MIDI file to write.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pypianoroll.Track">
<em class="property">class </em><code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">Track</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">program</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">is_drum</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pianoroll</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/track.html#Track"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Track" title="Permalink to this definition">¶</a></dt>
<dd><p>A container for single-track piano roll.</p>
<dl class="py attribute">
<dt id="pypianoroll.Track.program">
<code class="sig-name descname">program</code><a class="headerlink" href="#pypianoroll.Track.program" title="Permalink to this definition">¶</a></dt>
<dd><p>Program number according to General MIDI specification [1]. Defaults
to 0 (Acoustic Grand Piano).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int, 0-127, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pypianoroll.Track.is_drum">
<code class="sig-name descname">is_drum</code><a class="headerlink" href="#pypianoroll.Track.is_drum" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether it is a percussion track. Defaults to False.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pypianoroll.Track.name">
<code class="sig-name descname">name</code><a class="headerlink" href="#pypianoroll.Track.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Track name.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pypianoroll.Track.pianoroll">
<code class="sig-name descname">pianoroll</code><a class="headerlink" href="#pypianoroll.Track.pianoroll" title="Permalink to this definition">¶</a></dt>
<dd><p>Piano-roll matrix. The first dimension represents time, and the
second dimension represents pitch. If dtype is integer, assume the
data range is in [0, 255].</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ndarray, dtype={bool, int}, shape=(?, 128), optional</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">References</p>
<p>[1] <a class="reference external" href="https://www.midi.org/specifications/item/gm-level-1-sound-set">https://www.midi.org/specifications/item/gm-level-1-sound-set</a></p>
<dl class="py method">
<dt id="pypianoroll.Track.assign_constant">
<code class="sig-name descname">assign_constant</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em>, <em class="sig-param"><span class="n">dtype</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/track.html#Track.assign_constant"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Track.assign_constant" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign a constant value to all nonzeros entries of the piano roll.</p>
<p>If the piano roll is not binarized, its data type will be preserved. If
the piano roll is binarized, cast it to the dtype of <cite>value</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<em>int</em><em> or </em><em>float</em>) – Value to assign to all the nonzero entries in the piano roll.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Track.binarize">
<code class="sig-name descname">binarize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">threshold</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/track.html#Track.binarize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Track.binarize" title="Permalink to this definition">¶</a></dt>
<dd><p>Binarize the piano roll.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>threshold</strong> (<em>int</em><em> or </em><em>float</em>) – A threshold used to binarize the piano roll. Defaults to zero.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Track.clip">
<code class="sig-name descname">clip</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lower</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">upper</span><span class="o">=</span><span class="default_value">127</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/track.html#Track.clip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Track.clip" title="Permalink to this definition">¶</a></dt>
<dd><p>Clip the piano roll by a lower bound and an upper bound.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lower</strong> (<em>int</em><em> or </em><em>float</em>) – Lower bound to clip the piano roll. Defaults to 0.</p></li>
<li><p><strong>upper</strong> (<em>int</em><em> or </em><em>float</em>) – Upper bound to clip the piano roll. Defaults to 127.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Track.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/track.html#Track.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Track.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a copy of the object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>copied</strong> – A copy of the object.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>pypianoroll.Track</cite> object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Track.get_active_length">
<code class="sig-name descname">get_active_length</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/track.html#Track.get_active_length"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Track.get_active_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the active length of the piano roll (in time steps).</p>
<p>The active length is defined as the length of the piano roll without
trailing silence.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Active length.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Track.get_active_pitch_range">
<code class="sig-name descname">get_active_pitch_range</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/track.html#Track.get_active_pitch_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Track.get_active_pitch_range" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the active pitch range as a tuple (lowest, highest).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>lowest</strong> (<em>int</em>) – Lowest active pitch in the piano roll.</p></li>
<li><p><strong>highest</strong> (<em>int</em>) – Highest active pitch in the piano roll.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Track.get_pianoroll_copy">
<code class="sig-name descname">get_pianoroll_copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/track.html#Track.get_pianoroll_copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Track.get_pianoroll_copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a copy of the piano roll matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>copied</strong> – A copy of the pianoroll matrix.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Track.is_binarized">
<code class="sig-name descname">is_binarized</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/track.html#Track.is_binarized"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Track.is_binarized" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the piano roll is binarized, otherwise return False.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Whether the piano roll is binarized.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Track.is_valid">
<code class="sig-name descname">is_valid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/track.html#Track.is_valid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Track.is_valid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if all attributes are valid, otherwise False.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Whether all attributes is valid.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Track.pad">
<code class="sig-name descname">pad</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pad_length</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/track.html#Track.pad"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Track.pad" title="Permalink to this definition">¶</a></dt>
<dd><p>Pad the piano roll with zeros at the end along the time axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pad_length</strong> (<em>int</em>) – The length to pad with zeros along the time axis.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Track.pad_to_multiple">
<code class="sig-name descname">pad_to_multiple</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">factor</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/track.html#Track.pad_to_multiple"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Track.pad_to_multiple" title="Permalink to this definition">¶</a></dt>
<dd><p>Pad the piano roll along the time axis to a multiple of <cite>factor</cite>.</p>
<p>Pad the piano roll with zeros at the end along the time axis of the
minimum length that makes the length of the resulting piano roll a
multiple of <cite>factor</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>factor</strong> (<em>int</em>) – The value which the length of the resulting piano roll will be
a multiple of.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Track.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/track.html#Track.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Track.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the piano roll and/or save a plot of it.</p>
<p>See <a class="reference internal" href="#pypianoroll.plot_track" title="pypianoroll.plot_track"><code class="xref py py-func docutils literal notranslate"><span class="pre">pypianoroll.plot_track()</span></code></a> for full documentation.</p>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Track.transpose">
<code class="sig-name descname">transpose</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">semitone</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/track.html#Track.transpose"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Track.transpose" title="Permalink to this definition">¶</a></dt>
<dd><p>Transpose the piano roll by a number of semitones.</p>
<p>Positive values are for a higher key, while negative values are for
a lower key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>semitone</strong> (<em>int</em>) – Number of semitones to transpose the piano roll.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Track.trim_trailing_silence">
<code class="sig-name descname">trim_trailing_silence</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/track.html#Track.trim_trailing_silence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Track.trim_trailing_silence" title="Permalink to this definition">¶</a></dt>
<dd><p>Trim the trailing silence of the piano roll.</p>
</dd></dl>

<dl class="py method">
<dt id="pypianoroll.Track.validate">
<code class="sig-name descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/track.html#Track.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.Track.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise a proper error if any attribute is invalid.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="pypianoroll.assign_constant">
<code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">assign_constant</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/core.html#assign_constant"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.assign_constant" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign a constant value to all nonzeros entries of the piano roll(s).</p>
<p>If a piano roll is not binarized, its data type will be preserved. If a
piano roll is binarized, cast it to the dtype of <cite>value</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<a class="reference internal" href="#pypianoroll.Multitrack" title="pypianoroll.Multitrack"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypianoroll.Multitrack</span></code></a> or <a class="reference internal" href="#pypianoroll.Track" title="pypianoroll.Track"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypianoroll.Track</span></code></a> object) – Object to modify.</p></li>
<li><p><strong>value</strong> (<em>int</em><em> or </em><em>float</em>) – Value to assign to all the nonzero entries in the piano roll(s).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pypianoroll.binarize">
<code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">binarize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/core.html#binarize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.binarize" title="Permalink to this definition">¶</a></dt>
<dd><p>Binarize the piano roll(s).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<a class="reference internal" href="#pypianoroll.Multitrack" title="pypianoroll.Multitrack"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypianoroll.Multitrack</span></code></a> or <a class="reference internal" href="#pypianoroll.Track" title="pypianoroll.Track"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypianoroll.Track</span></code></a> object) – Object to binarize.</p></li>
<li><p><strong>threshold</strong> (<em>int</em><em> or </em><em>float</em>) – Threshold to binarize the piano roll(s). Defaults to zero.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pypianoroll.clip">
<code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">clip</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">lower</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">upper</span><span class="o">=</span><span class="default_value">127</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/core.html#clip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.clip" title="Permalink to this definition">¶</a></dt>
<dd><p>Clip the piano roll(s) by a lower bound and an upper bound.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<a class="reference internal" href="#pypianoroll.Multitrack" title="pypianoroll.Multitrack"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypianoroll.Multitrack</span></code></a> or <a class="reference internal" href="#pypianoroll.Track" title="pypianoroll.Track"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypianoroll.Track</span></code></a> object) – Object to clip.</p></li>
<li><p><strong>lower</strong> (<em>int</em><em> or </em><em>float</em>) – Lower bound to clip the piano roll(s). Defaults to 0.</p></li>
<li><p><strong>upper</strong> (<em>int</em><em> or </em><em>float</em>) – Upper bound to clip the piano roll(s). Defaults to 127.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pypianoroll.drum_in_pattern_rate">
<code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">drum_in_pattern_rate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pianoroll</span></em>, <em class="sig-param"><span class="n">resolution</span></em>, <em class="sig-param"><span class="n">tolerance</span><span class="o">=</span><span class="default_value">0.1</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/metrics.html#drum_in_pattern_rate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.drum_in_pattern_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the ratio of drum notes in a certain drum pattern.</p>
<p>The drum-in-pattern rate is defined as the ratio of the number of
notes in a certain scale to the total number of notes. Only drum tracks
are considered. Return NaN if no drum note is found. This metric is used
in [1].</p>
<div class="math notranslate nohighlight">
\[drum\_in\_pattern\_rate = \frac{
    \#(drum\_notes\_in\_pattern)}{\#(drum\_notes)}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pianoroll</strong> (<em>ndarray</em>) – Pianoroll to evaluate.</p></li>
<li><p><strong>resolution</strong> (<em>int</em>) – Time steps per beat.</p></li>
<li><p><strong>tolerance</strong> (<em>float</em>) – Tolerance. Defaults to 0.1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Drum-in-pattern rate.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">References</p>
<ol class="arabic simple">
<li><p>Hao-Wen Dong, Wen-Yi Hsiao, Li-Chia Yang, and Yi-Hsuan Yang,
“MuseGAN: Multi-track sequential generative adversarial networks for
symbolic music generation and accompaniment,” in Proceedings of the
32nd AAAI Conference on Artificial Intelligence (AAAI), 2018.</p></li>
</ol>
</dd></dl>

<dl class="py function">
<dt id="pypianoroll.empty_beat_rate">
<code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">empty_beat_rate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pianoroll</span></em>, <em class="sig-param"><span class="n">resolution</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/metrics.html#empty_beat_rate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.empty_beat_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the ratio of empty beats.</p>
<p>The empty-beat rate is defined as the ratio of the number of empty beats
(where no note is played) to the total number of beats. Return NaN if
song length is zero.</p>
<div class="math notranslate nohighlight">
\[empty\_beat\_rate = \frac{\#(empty\_beats)}{\#(beats)}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pianoroll</strong> (<em>ndarray</em>) – Pianoroll to evaluate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Empty-beat rate.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pypianoroll.from_pretty_midi">
<code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">from_pretty_midi</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pm</span></em>, <em class="sig-param"><span class="n">resolution</span><span class="o">=</span><span class="default_value">24</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'max'</span></em>, <em class="sig-param"><span class="n">algorithm</span><span class="o">=</span><span class="default_value">'normal'</span></em>, <em class="sig-param"><span class="n">binarized</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">skip_empty_tracks</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">collect_onsets_only</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">first_beat_time</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/inputs.html#from_pretty_midi"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.from_pretty_midi" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a Multitrack object converted from a PrettyMIDI object.</p>
<p>Parse a <a class="reference external" href="https://craffel.github.io/pretty-midi/index.html#pretty_midi.PrettyMIDI" title="(in pretty_midi v0.2.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pretty_midi.PrettyMIDI</span></code></a> object. The data type of the
resulting piano rolls is automatically determined (int if ‘mode’ is
‘sum’, np.uint8 if <cite>mode</cite> is ‘max’ and <cite>binarized</cite> is False, bool if
<cite>mode</cite> is ‘max’ and <cite>binarized</cite> is True).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pm</strong> (<cite>pretty_midi.PrettyMIDI</cite> object) – A <a class="reference external" href="https://craffel.github.io/pretty-midi/index.html#pretty_midi.PrettyMIDI" title="(in pretty_midi v0.2.9)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pretty_midi.PrettyMIDI</span></code></a> object to be parsed.</p></li>
<li><p><strong>mode</strong> (<em>{'max'</em><em>, </em><em>'sum'}</em>) – A string that indicates the merging strategy to apply to duplicate
notes. Default to ‘max’.</p></li>
<li><p><strong>algorithm</strong> (<em>{'normal'</em><em>, </em><em>'strict'</em><em>, </em><em>'custom'}</em>) – <p>A string that indicates the method used to get the location of the
first beat. Notes before it will be dropped unless an incomplete
beat before it is found (see Notes for more information). Defaults
to ‘normal’.</p>
<ul>
<li><dl class="simple">
<dt>The ‘normal’ algorithm estimates the location of the first beat by</dt><dd><p><a class="reference external" href="https://craffel.github.io/pretty-midi/index.html#pretty_midi.PrettyMIDI.estimate_beat_start" title="(in pretty_midi v0.2.9)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pretty_midi.PrettyMIDI.estimate_beat_start()</span></code></a>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The ‘strict’ algorithm sets the first beat at the event time of</dt><dd><p>the first time signature change. Raise a ValueError if no time
signature change event is found.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>The ‘custom’ algorithm takes argument <cite>first_beat_time</cite> as the</dt><dd><p>location of the first beat.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>binarized</strong> (<em>bool</em>) – True to binarize the parsed piano rolls before merging duplicate
notes. False to use the original parsed pianorolls. Defaults to
False.</p></li>
<li><p><strong>skip_empty_tracks</strong> (<em>bool</em>) – True to remove tracks with empty piano rolls and compress the pitch
range of the parsed piano rolls. False to retain the empty tracks
and use the original parsed piano rolls. Deafault to True.</p></li>
<li><p><strong>collect_onsets_only</strong> (<em>bool</em>) – True to collect only the onset of the notes (i.e. note on events) in
all tracks, where the note off and duration information are dropped.
False to parse regular piano rolls.</p></li>
<li><p><strong>threshold</strong> (<em>int</em><em> or </em><em>float</em>) – A threshold used to binarize the parsed piano rolls. Only effective
when <cite>binarized</cite> is True. Defaults to zero.</p></li>
<li><p><strong>first_beat_time</strong> (<em>float</em>) – The location (in sec) of the first beat. Required and only effective
when using ‘custom’ algorithm.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If an incomplete beat before the first beat is found, an additional beat
will be added before the (estimated) beat starting time. However, notes
before the (estimated) beat starting time for more than one beat are
dropped.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Converted multitrack.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#pypianoroll.Multitrack" title="pypianoroll.Multitrack"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypianoroll.Multitrack</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pypianoroll.in_scale_rate">
<code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">in_scale_rate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pianoroll</span></em>, <em class="sig-param"><span class="n">root</span><span class="o">=</span><span class="default_value">3</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'major'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/metrics.html#in_scale_rate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.in_scale_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the ratio of pitches in a certain musical scale.</p>
<p>The pitch-in-scale rate is defined as the ratio of the number of notes
in a certain scale to the total number of notes. Drum tracks are
ignored. Return NaN if no note is found. This metric is used in [1].</p>
<div class="math notranslate nohighlight">
\[pitch\_in\_scale\_rate = \frac{\#(notes\_in\_scale)}{\#(notes)}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>music</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">muspy.Music</span></code> object) – Music object to evaluate.</p></li>
<li><p><strong>root</strong> (<em>int</em>) – Root of the scale.</p></li>
<li><p><strong>mode</strong> (<em>str</em><em>, </em><em>{'major'</em><em>, </em><em>'minor'}</em>) – Mode of the scale.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Pitch-in-scale rate.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">muspy.scale_consistency()</span></code></dt><dd><p>Compute the largest pitch-in-class rate.</p>
</dd>
</dl>
</div>
<p class="rubric">References</p>
<ol class="arabic simple">
<li><p>Hao-Wen Dong, Wen-Yi Hsiao, Li-Chia Yang, and Yi-Hsuan Yang,
“MuseGAN: Multi-track sequential generative adversarial networks for
symbolic music generation and accompaniment,” in Proceedings of the
32nd AAAI Conference on Artificial Intelligence (AAAI), 2018.</p></li>
</ol>
</dd></dl>

<dl class="py function">
<dt id="pypianoroll.load">
<code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/inputs.html#load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a NPZ file into a Multitrack object.</p>
<p>Supports only files previously saved by <a class="reference internal" href="#pypianoroll.save" title="pypianoroll.save"><code class="xref py py-func docutils literal notranslate"><span class="pre">pypianoroll.save()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – Path to the NPZ file to load.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pypianoroll.n_pitch_classes_used">
<code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">n_pitch_classes_used</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pianoroll</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/metrics.html#n_pitch_classes_used"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.n_pitch_classes_used" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of unique pitch classes used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pianoroll</strong> (<em>ndarray</em>) – Pianoroll to evaluate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Number of unique pitch classes used.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#pypianoroll.n_pitches_used" title="pypianoroll.n_pitches_used"><code class="xref py py-func docutils literal notranslate"><span class="pre">pypianoroll.n_pitches_used()</span></code></a></dt><dd><p>Compute the number of unique pitches used.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt id="pypianoroll.n_pitches_used">
<code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">n_pitches_used</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pianoroll</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/metrics.html#n_pitches_used"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.n_pitches_used" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of unique pitches used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pianoroll</strong> (<em>ndarray</em>) – Pianoroll to evaluate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Number of unique pitch classes used.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">pypianoroll.n_pitch_class_used()</span></code></dt><dd><p>Compute the number of unique pitch classes used.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt id="pypianoroll.pad">
<code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">pad</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">pad_length</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/core.html#pad"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.pad" title="Permalink to this definition">¶</a></dt>
<dd><p>Pad the piano roll(s) with zeros at the end along the time axis.</p>
<p class="rubric">Notes</p>
<p>The lengths of the resulting piano rolls are not guaranteed to be
the same. See <a class="reference internal" href="#pypianoroll.Multitrack.pad_to_same" title="pypianoroll.Multitrack.pad_to_same"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pypianoroll.Multitrack.pad_to_same()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<a class="reference internal" href="#pypianoroll.Multitrack" title="pypianoroll.Multitrack"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypianoroll.Multitrack</span></code></a> or <a class="reference internal" href="#pypianoroll.Track" title="pypianoroll.Track"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypianoroll.Track</span></code></a> object) – Object to pad.</p></li>
<li><p><strong>pad_length</strong> (<em>int</em>) – Length to pad along the time axis with zeros.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pypianoroll.pad_to_multiple">
<code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">pad_to_multiple</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">factor</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/core.html#pad_to_multiple"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.pad_to_multiple" title="Permalink to this definition">¶</a></dt>
<dd><p>Pad the piano rolls along the time axis to a multiple of <cite>factor</cite>.</p>
<p>Pad the piano rolls with zeros at the end along the time axis of the
minimum length that makes the lengths of the resulting piano rolls
multiples of <cite>factor</cite>.</p>
<p class="rubric">Notes</p>
<p>The resulting pianoroll lengths are not guaranteed to be the same. See
<a class="reference internal" href="#pypianoroll.Multitrack.pad_to_same" title="pypianoroll.Multitrack.pad_to_same"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pypianoroll.Multitrack.pad_to_same()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<a class="reference internal" href="#pypianoroll.Multitrack" title="pypianoroll.Multitrack"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypianoroll.Multitrack</span></code></a> or <a class="reference internal" href="#pypianoroll.Track" title="pypianoroll.Track"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypianoroll.Track</span></code></a> object) – Object to pad.</p></li>
<li><p><strong>factor</strong> (<em>int</em>) – The value which the length of the resulting pianoroll(s) will be a
multiple of.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pypianoroll.pad_to_same">
<code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">pad_to_same</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/core.html#pad_to_same"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.pad_to_same" title="Permalink to this definition">¶</a></dt>
<dd><p>Pad piano rolls along the time axis to have the same length.</p>
<p>Pad shorter piano rolls with zeros at the end along the time axis so
that the resulting piano rolls have the same length.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obj</strong> (<a class="reference internal" href="#pypianoroll.Multitrack" title="pypianoroll.Multitrack"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypianoroll.Multitrack</span></code></a> object) – Object to pad.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pypianoroll.plot">
<code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/core.html#plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the object.</p>
<p>See <a class="reference internal" href="#pypianoroll.plot_multitrack" title="pypianoroll.plot_multitrack"><code class="xref py py-func docutils literal notranslate"><span class="pre">pypianoroll.plot_multitrack()</span></code></a> and
<a class="reference internal" href="#pypianoroll.plot_track" title="pypianoroll.plot_track"><code class="xref py py-func docutils literal notranslate"><span class="pre">pypianoroll.plot_track()</span></code></a> for full documentation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obj</strong> (<a class="reference internal" href="#pypianoroll.Multitrack" title="pypianoroll.Multitrack"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypianoroll.Multitrack</span></code></a> or <a class="reference internal" href="#pypianoroll.Track" title="pypianoroll.Track"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypianoroll.Track</span></code></a> object) – Object to plot.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pypianoroll.plot_multitrack">
<code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">plot_multitrack</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">multitrack</span></em>, <em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'separate'</span></em>, <em class="sig-param"><span class="n">track_label</span><span class="o">=</span><span class="default_value">'name'</span></em>, <em class="sig-param"><span class="n">preset</span><span class="o">=</span><span class="default_value">'default'</span></em>, <em class="sig-param"><span class="n">cmaps</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">xtick</span><span class="o">=</span><span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">ytick</span><span class="o">=</span><span class="default_value">'octave'</span></em>, <em class="sig-param"><span class="n">xticklabel</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">yticklabel</span><span class="o">=</span><span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">tick_loc</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tick_direction</span><span class="o">=</span><span class="default_value">'in'</span></em>, <em class="sig-param"><span class="n">label</span><span class="o">=</span><span class="default_value">'both'</span></em>, <em class="sig-param"><span class="n">grid</span><span class="o">=</span><span class="default_value">'both'</span></em>, <em class="sig-param"><span class="n">grid_linestyle</span><span class="o">=</span><span class="default_value">':'</span></em>, <em class="sig-param"><span class="n">grid_linewidth</span><span class="o">=</span><span class="default_value">0.5</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/visualization.html#plot_multitrack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.plot_multitrack" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the pianorolls or save a plot of them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – The filename to which the plot is saved. If None, save nothing.</p></li>
<li><p><strong>mode</strong> (<em>{'separate'</em><em>, </em><em>'stacked'</em><em>, </em><em>'hybrid'}</em>) – <p>A string that indicate the plotting mode to use. Defaults to ‘separate’.</p>
<ul>
<li><p>In ‘separate’ mode, all the tracks are plotted separately.</p></li>
<li><p>In ‘stacked’ mode, a color is assigned based on <cite>cmaps</cite> to the
pianoroll of each track and the pianorolls are stacked and plotted as
a colored image with RGB channels.</p></li>
<li><p>In ‘hybrid’ mode, the drum tracks are merged into a ‘Drums’ track,
while the other tracks are merged into an ‘Others’ track, and the two
merged tracks are then plotted separately.</p></li>
</ul>
</p></li>
<li><p><strong>track_label</strong> (<em>{'name'</em><em>, </em><em>'program'</em><em>, </em><em>'family'</em><em>, </em><em>'off'}</em>) – A sting that indicates what to use as labels to the track. When <cite>mode</cite>
is ‘hybrid’, all options other than ‘off’ will label the two track with
‘Drums’ and ‘Others’.</p></li>
<li><p><strong>preset</strong> (<em>{'default'</em><em>, </em><em>'plain'</em><em>, </em><em>'frame'}</em>) – <p>A string that indicates the preset theme to use.</p>
<ul>
<li><p>In ‘default’ preset, the ticks, grid and labels are on.</p></li>
<li><p>In ‘frame’ preset, the ticks and grid are both off.</p></li>
<li><p>In ‘plain’ preset, the x- and y-axis are both off.</p></li>
</ul>
</p></li>
<li><p><strong>cmaps</strong> (<em>tuple</em><em> or </em><em>list</em>) – <p>The <cite>matplotlib.colors.Colormap</cite> instances or colormap codes to use.</p>
<ul>
<li><p>When <cite>mode</cite> is ‘separate’, each element will be passed to each call of
<a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.imshow.html#matplotlib.pyplot.imshow" title="(in Matplotlib v3.3.1)"><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib.pyplot.imshow()</span></code></a>. Defaults to (‘Blues’, ‘Oranges’,
‘Greens’, ‘Reds’, ‘Purples’, ‘Greys’).</p></li>
<li><p>When <cite>mode</cite> is stacked, a color is assigned based on <cite>cmaps</cite> to the
pianoroll of each track. Defaults to (‘hsv’).</p></li>
<li><p>When <cite>mode</cite> is ‘hybrid’, the first (second) element is used in the
‘Drums’ (‘Others’) track. Defaults to (‘Blues’, ‘Greens’).</p></li>
</ul>
</p></li>
<li><p><strong>xtick</strong> (<em>{'auto'</em><em>, </em><em>'beat'</em><em>, </em><em>'step'</em><em>, </em><em>'off'}</em>) – A string that indicates what to use as ticks along the x-axis. If ‘auto’
is given, automatically set to ‘beat’ if <cite>resolution</cite> is also given
and set to ‘step’, otherwise. Defaults to ‘auto’.</p></li>
<li><p><strong>ytick</strong> (<em>{'octave'</em><em>, </em><em>'pitch'</em><em>, </em><em>'off'}</em>) – A string that indicates what to use as ticks along the y-axis. Defaults
to ‘octave’.</p></li>
<li><p><strong>xticklabel</strong> (<em>bool</em>) – Whether to add tick labels along the x-axis. Only effective when <cite>xtick</cite>
is not ‘off’.</p></li>
<li><p><strong>yticklabel</strong> (<em>{'auto'</em><em>, </em><em>'name'</em><em>, </em><em>'number'</em><em>, </em><em>'off'}</em>) – If ‘name’, use octave name and pitch name (key name when <cite>is_drum</cite> is
True) as tick labels along the y-axis. If ‘number’, use pitch number. If
‘auto’, set to ‘name’ when <cite>ytick</cite> is ‘octave’ and ‘number’ when <cite>ytick</cite>
is ‘pitch’. Defaults to ‘auto’. Only effective when <cite>ytick</cite> is not
‘off’.</p></li>
<li><p><strong>tick_loc</strong> (<em>tuple</em><em> or </em><em>list</em>) – The locations to put the ticks. Availables elements are ‘bottom’, ‘top’,
‘left’ and ‘right’. Defaults to (‘bottom’, ‘left’).</p></li>
<li><p><strong>tick_direction</strong> (<em>{'in'</em><em>, </em><em>'out'</em><em>, </em><em>'inout'}</em>) – A string that indicates where to put the ticks. Defaults to ‘in’. Only
effective when one of <cite>xtick</cite> and <cite>ytick</cite> is on.</p></li>
<li><p><strong>label</strong> (<em>{'x'</em><em>, </em><em>'y'</em><em>, </em><em>'both'</em><em>, </em><em>'off'}</em>) – A string that indicates whether to add labels to the x-axis and y-axis.
Defaults to ‘both’.</p></li>
<li><p><strong>grid</strong> (<em>{'x'</em><em>, </em><em>'y'</em><em>, </em><em>'both'</em><em>, </em><em>'off'}</em>) – A string that indicates whether to add grids to the x-axis, y-axis, both
or neither. Defaults to ‘both’.</p></li>
<li><p><strong>grid_linestyle</strong> (<em>str</em>) – Will be passed to <a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.grid.html#matplotlib.axes.Axes.grid" title="(in Matplotlib v3.3.1)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.grid()</span></code></a> as ‘linestyle’
argument.</p></li>
<li><p><strong>grid_linewidth</strong> (<em>float</em>) – Will be passed to <a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.grid.html#matplotlib.axes.Axes.grid" title="(in Matplotlib v3.3.1)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.grid()</span></code></a> as ‘linewidth’
argument.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>fig</strong> (<cite>matplotlib.figure.Figure</cite> object) – A <a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure" title="(in Matplotlib v3.3.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.figure.Figure</span></code></a> object.</p></li>
<li><p><strong>axs</strong> (<em>list</em>) – List of <a class="reference external" href="https://matplotlib.org/api/axes_api.html#matplotlib.axes.Axes" title="(in Matplotlib v3.3.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.axes.Axes</span></code></a> object.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pypianoroll.plot_pianoroll">
<code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">plot_pianoroll</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ax</span></em>, <em class="sig-param"><span class="n">pianoroll</span></em>, <em class="sig-param"><span class="n">is_drum</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">resolution</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">downbeats</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">preset</span><span class="o">=</span><span class="default_value">'default'</span></em>, <em class="sig-param"><span class="n">cmap</span><span class="o">=</span><span class="default_value">'Blues'</span></em>, <em class="sig-param"><span class="n">xtick</span><span class="o">=</span><span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">ytick</span><span class="o">=</span><span class="default_value">'octave'</span></em>, <em class="sig-param"><span class="n">xticklabel</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">yticklabel</span><span class="o">=</span><span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">tick_loc</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tick_direction</span><span class="o">=</span><span class="default_value">'in'</span></em>, <em class="sig-param"><span class="n">label</span><span class="o">=</span><span class="default_value">'both'</span></em>, <em class="sig-param"><span class="n">grid</span><span class="o">=</span><span class="default_value">'both'</span></em>, <em class="sig-param"><span class="n">grid_linestyle</span><span class="o">=</span><span class="default_value">':'</span></em>, <em class="sig-param"><span class="n">grid_linewidth</span><span class="o">=</span><span class="default_value">0.5</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/visualization.html#plot_pianoroll"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.plot_pianoroll" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a pianoroll given as a numpy array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ax</strong> (<em>matplotlib.axes.Axes object</em>) – A <a class="reference external" href="https://matplotlib.org/api/axes_api.html#matplotlib.axes.Axes" title="(in Matplotlib v3.3.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.axes.Axes</span></code></a> object where the pianoroll will be
plotted on.</p></li>
<li><p><strong>pianoroll</strong> (<em>np.ndarray</em>) – <p>A pianoroll to be plotted. The values should be in [0, 1] when data type
is float, and in [0, 127] when data type is integer.</p>
<ul>
<li><p>For a 2D array, shape=(num_time_step, num_pitch).</p></li>
<li><p>For a 3D array, shape=(num_time_step, num_pitch, num_channel), where
channels can be either RGB or RGBA.</p></li>
</ul>
</p></li>
<li><p><strong>is_drum</strong> (<em>bool</em>) – A boolean number that indicates whether it is a percussion track.
Defaults to False.</p></li>
<li><p><strong>resolution</strong> (<em>int</em>) – The number of time steps used to represent a beat. Required and only
effective when <cite>xtick</cite> is ‘beat’.</p></li>
<li><p><strong>downbeats</strong> (<em>list</em>) – An array that indicates whether the time step contains a downbeat (i.e.,
the first time step of a bar).</p></li>
<li><p><strong>preset</strong> (<em>{'default'</em><em>, </em><em>'plain'</em><em>, </em><em>'frame'}</em>) – <p>A string that indicates the preset theme to use.</p>
<ul>
<li><p>In ‘default’ preset, the ticks, grid and labels are on.</p></li>
<li><p>In ‘frame’ preset, the ticks and grid are both off.</p></li>
<li><p>In ‘plain’ preset, the x- and y-axis are both off.</p></li>
</ul>
</p></li>
<li><p><strong>cmap</strong> (<cite>matplotlib.colors.Colormap</cite>) – The colormap to use in <a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.imshow.html#matplotlib.pyplot.imshow" title="(in Matplotlib v3.3.1)"><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib.pyplot.imshow()</span></code></a>. Defaults to
‘Blues’. Only effective when <cite>pianoroll</cite> is 2D.</p></li>
<li><p><strong>xtick</strong> (<em>{'auto'</em><em>, </em><em>'beat'</em><em>, </em><em>'step'</em><em>, </em><em>'off'}</em>) – A string that indicates what to use as ticks along the x-axis. If ‘auto’
is given, automatically set to ‘beat’ if <cite>resolution</cite> is also given
and set to ‘step’, otherwise. Defaults to ‘auto’.</p></li>
<li><p><strong>ytick</strong> (<em>{'octave'</em><em>, </em><em>'pitch'</em><em>, </em><em>'off'}</em>) – A string that indicates what to use as ticks along the y-axis.
Defaults to ‘octave’.</p></li>
<li><p><strong>xticklabel</strong> (<em>bool</em>) – Whether to add tick labels along the x-axis. Only effective when <cite>xtick</cite>
is not ‘off’.</p></li>
<li><p><strong>yticklabel</strong> (<em>{'auto'</em><em>, </em><em>'name'</em><em>, </em><em>'number'</em><em>, </em><em>'off'}</em>) – If ‘name’, use octave name and pitch name (key name when <cite>is_drum</cite> is
True) as tick labels along the y-axis. If ‘number’, use pitch number. If
‘auto’, set to ‘name’ when <cite>ytick</cite> is ‘octave’ and ‘number’ when <cite>ytick</cite>
is ‘pitch’. Defaults to ‘auto’. Only effective when <cite>ytick</cite> is not
‘off’.</p></li>
<li><p><strong>tick_loc</strong> (<em>tuple</em><em> or </em><em>list</em>) – The locations to put the ticks. Availables elements are ‘bottom’, ‘top’,
‘left’ and ‘right’. Defaults to (‘bottom’, ‘left’).</p></li>
<li><p><strong>tick_direction</strong> (<em>{'in'</em><em>, </em><em>'out'</em><em>, </em><em>'inout'}</em>) – A string that indicates where to put the ticks. Defaults to ‘in’. Only
effective when one of <cite>xtick</cite> and <cite>ytick</cite> is on.</p></li>
<li><p><strong>label</strong> (<em>{'x'</em><em>, </em><em>'y'</em><em>, </em><em>'both'</em><em>, </em><em>'off'}</em>) – A string that indicates whether to add labels to the x-axis and y-axis.
Defaults to ‘both’.</p></li>
<li><p><strong>grid</strong> (<em>{'x'</em><em>, </em><em>'y'</em><em>, </em><em>'both'</em><em>, </em><em>'off'}</em>) – A string that indicates whether to add grids to the x-axis, y-axis, both
or neither. Defaults to ‘both’.</p></li>
<li><p><strong>grid_linestyle</strong> (<em>str</em>) – Will be passed to <a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.grid.html#matplotlib.axes.Axes.grid" title="(in Matplotlib v3.3.1)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.grid()</span></code></a> as ‘linestyle’
argument.</p></li>
<li><p><strong>grid_linewidth</strong> (<em>float</em>) – Will be passed to <a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.grid.html#matplotlib.axes.Axes.grid" title="(in Matplotlib v3.3.1)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.grid()</span></code></a> as ‘linewidth’
argument.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pypianoroll.plot_track">
<code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">plot_track</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">track</span></em>, <em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">resolution</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">downbeats</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">preset</span><span class="o">=</span><span class="default_value">'default'</span></em>, <em class="sig-param"><span class="n">cmap</span><span class="o">=</span><span class="default_value">'Blues'</span></em>, <em class="sig-param"><span class="n">xtick</span><span class="o">=</span><span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">ytick</span><span class="o">=</span><span class="default_value">'octave'</span></em>, <em class="sig-param"><span class="n">xticklabel</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">yticklabel</span><span class="o">=</span><span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">tick_loc</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tick_direction</span><span class="o">=</span><span class="default_value">'in'</span></em>, <em class="sig-param"><span class="n">label</span><span class="o">=</span><span class="default_value">'both'</span></em>, <em class="sig-param"><span class="n">grid</span><span class="o">=</span><span class="default_value">'both'</span></em>, <em class="sig-param"><span class="n">grid_linestyle</span><span class="o">=</span><span class="default_value">':'</span></em>, <em class="sig-param"><span class="n">grid_linewidth</span><span class="o">=</span><span class="default_value">0.5</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/visualization.html#plot_track"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.plot_track" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the pianoroll or save a plot of the pianoroll.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – The filename to which the plot is saved. If None, save nothing.</p></li>
<li><p><strong>resolution</strong> (<em>int</em>) – The number of time steps used to represent a beat. Required and only
effective when <cite>xtick</cite> is ‘beat’.</p></li>
<li><p><strong>downbeats</strong> (<em>list</em>) – An array that indicates whether the time step contains a downbeat (i.e.,
the first time step of a bar).</p></li>
<li><p><strong>preset</strong> (<em>{'default'</em><em>, </em><em>'plain'</em><em>, </em><em>'frame'}</em>) – <p>A string that indicates the preset theme to use.</p>
<ul>
<li><p>In ‘default’ preset, the ticks, grid and labels are on.</p></li>
<li><p>In ‘frame’ preset, the ticks and grid are both off.</p></li>
<li><p>In ‘plain’ preset, the x- and y-axis are both off.</p></li>
</ul>
</p></li>
<li><p><strong>cmap</strong> (<cite>matplotlib.colors.Colormap</cite>) – The colormap to use in <a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.imshow.html#matplotlib.pyplot.imshow" title="(in Matplotlib v3.3.1)"><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib.pyplot.imshow()</span></code></a>. Defaults to
‘Blues’. Only effective when <cite>pianoroll</cite> is 2D.</p></li>
<li><p><strong>xtick</strong> (<em>{'auto'</em><em>, </em><em>'beat'</em><em>, </em><em>'step'</em><em>, </em><em>'off'}</em>) – A string that indicates what to use as ticks along the x-axis. If ‘auto’
is given, automatically set to ‘beat’ if <cite>resolution</cite> is also given
and set to ‘step’, otherwise. Defaults to ‘auto’.</p></li>
<li><p><strong>ytick</strong> (<em>{'octave'</em><em>, </em><em>'pitch'</em><em>, </em><em>'off'}</em>) – A string that indicates what to use as ticks along the y-axis. Defaults
to ‘octave’.</p></li>
<li><p><strong>xticklabel</strong> (<em>bool</em>) – Whether to add tick labels along the x-axis. Only effective when <cite>xtick</cite>
is not ‘off’.</p></li>
<li><p><strong>yticklabel</strong> (<em>{'auto'</em><em>, </em><em>'name'</em><em>, </em><em>'number'</em><em>, </em><em>'off'}</em>) – If ‘name’, use octave name and pitch name (key name when <cite>is_drum</cite> is
True) as tick labels along the y-axis. If ‘number’, use pitch number. If
‘auto’, set to ‘name’ when <cite>ytick</cite> is ‘octave’ and ‘number’ when <cite>ytick</cite>
is ‘pitch’. Defaults to ‘auto’. Only effective when <cite>ytick</cite> is not
‘off’.</p></li>
<li><p><strong>tick_loc</strong> (<em>tuple</em><em> or </em><em>list</em>) – The locations to put the ticks. Availables elements are ‘bottom’, ‘top’,
‘left’ and ‘right’. Defaults to (‘bottom’, ‘left’).</p></li>
<li><p><strong>tick_direction</strong> (<em>{'in'</em><em>, </em><em>'out'</em><em>, </em><em>'inout'}</em>) – A string that indicates where to put the ticks. Defaults to ‘in’. Only
effective when one of <cite>xtick</cite> and <cite>ytick</cite> is on.</p></li>
<li><p><strong>label</strong> (<em>{'x'</em><em>, </em><em>'y'</em><em>, </em><em>'both'</em><em>, </em><em>'off'}</em>) – A string that indicates whether to add labels to the x-axis and y-axis.
Defaults to ‘both’.</p></li>
<li><p><strong>grid</strong> (<em>{'x'</em><em>, </em><em>'y'</em><em>, </em><em>'both'</em><em>, </em><em>'off'}</em>) – A string that indicates whether to add grids to the x-axis, y-axis, both
or neither. Defaults to ‘both’.</p></li>
<li><p><strong>grid_linestyle</strong> (<em>str</em>) – Will be passed to <a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.grid.html#matplotlib.axes.Axes.grid" title="(in Matplotlib v3.3.1)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.grid()</span></code></a> as ‘linestyle’
argument.</p></li>
<li><p><strong>grid_linewidth</strong> (<em>float</em>) – Will be passed to <a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.grid.html#matplotlib.axes.Axes.grid" title="(in Matplotlib v3.3.1)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.grid()</span></code></a> as ‘linewidth’
argument.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>fig</strong> (<cite>matplotlib.figure.Figure</cite> object) – A <a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.figure.Figure.html#matplotlib.figure.Figure" title="(in Matplotlib v3.3.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.figure.Figure</span></code></a> object.</p></li>
<li><p><strong>ax</strong> (<cite>matplotlib.axes.Axes</cite> object) – A <a class="reference external" href="https://matplotlib.org/api/axes_api.html#matplotlib.axes.Axes" title="(in Matplotlib v3.3.1)"><code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.axes.Axes</span></code></a> object.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pypianoroll.polyphonic_rate">
<code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">polyphonic_rate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pianoroll</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="o">=</span><span class="default_value">2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/metrics.html#polyphonic_rate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.polyphonic_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the ratio of time steps where multiple pitches are on.</p>
<p>The polyphony rate is defined as the ratio of the number of time steps
where multiple pitches are on to the total number of time steps. Drum
tracks are ignored. Return NaN if song length is zero. This metric is
used in [1], where it is called <em>polyphonicity</em>.</p>
<div class="math notranslate nohighlight">
\[polyphony\_rate = \frac{
    \#(time\_steps\_where\_multiple\_pitches\_are\_on)
}{
    \#(time\_steps)
}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pianoroll</strong> (<em>ndarray</em>) – Pianoroll to evaluate.</p></li>
<li><p><strong>threshold</strong> (<em>int</em>) – The threshold of number of pitches to count into the numerator.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Polyphony rate.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">References</p>
<ol class="arabic simple">
<li><p>Hao-Wen Dong, Wen-Yi Hsiao, Li-Chia Yang, and Yi-Hsuan Yang,
“MuseGAN: Multi-track sequential generative adversarial networks for
symbolic music generation and accompaniment,” in Proceedings of the
32nd AAAI Conference on Artificial Intelligence (AAAI), 2018.</p></li>
</ol>
</dd></dl>

<dl class="py function">
<dt id="pypianoroll.qualified_note_rate">
<code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">qualified_note_rate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pianoroll</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="o">=</span><span class="default_value">2</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/metrics.html#qualified_note_rate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.qualified_note_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the ratio of the number of the qualified notes.</p>
<p>The polyphony rate is defined as the ratio of the number of qualified
notes (notes longer than <cite>threshold</cite> (in time steps)) to the total
number of notes. Return NaN if no note is found.</p>
<div class="math notranslate nohighlight">
\[qualified\_note\_rate = \frac{
    \#(notes\_longer\_than\_the\_threshold)
}{
    \#(notes)
}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pianoroll</strong> (<em>ndarray</em>) – Pianoroll to evaluate.</p></li>
<li><p><strong>threshold</strong> (<em>int</em>) – The threshold of note length to count into the numerator.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Qualified note rate.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">References</p>
<ol class="arabic simple">
<li><p>Hao-Wen Dong, Wen-Yi Hsiao, Li-Chia Yang, and Yi-Hsuan Yang,
“MuseGAN: Multi-track sequential generative adversarial networks for
symbolic music generation and accompaniment,” in Proceedings of the
32nd AAAI Conference on Artificial Intelligence (AAAI), 2018.</p></li>
</ol>
</dd></dl>

<dl class="py function">
<dt id="pypianoroll.read">
<code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/inputs.html#read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read a MIDI file into a Multitrack object.</p>
<p>See <a class="reference internal" href="#pypianoroll.from_pretty_midi" title="pypianoroll.from_pretty_midi"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pypianoroll.from_pretty_midi()</span></code></a> for full documentation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – Path to the MIDI file to read.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pypianoroll.save">
<code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">compressed</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/core.html#save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the object to a (compressed) NPZ file.</p>
<p>This could be later loaded by <a class="reference internal" href="#pypianoroll.load" title="pypianoroll.load"><code class="xref py py-func docutils literal notranslate"><span class="pre">pypianoroll.load()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – Path to the NPZ file to save.</p></li>
<li><p><strong>obj</strong> (<a class="reference internal" href="#pypianoroll.Multitrack" title="pypianoroll.Multitrack"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypianoroll.Multitrack</span></code></a> object) – Object to save.</p></li>
<li><p><strong>compressed</strong> (<em>bool</em>) – Whether to save to a compressed NPZ file. Defaults to True.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>To reduce the file size, the piano rolls are first converted to
instances of <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csc_matrix.html#scipy.sparse.csc_matrix" title="(in SciPy v1.5.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.sparse.csc_matrix</span></code></a>. The component arrays
are then collected and saved to a npz file.</p>
</dd></dl>

<dl class="py function">
<dt id="pypianoroll.save_animation">
<code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">save_animation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">pianoroll</span></em>, <em class="sig-param"><span class="n">window</span></em>, <em class="sig-param"><span class="n">hop</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">fps</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">is_drum</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">resolution</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">downbeats</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">preset</span><span class="o">=</span><span class="default_value">'default'</span></em>, <em class="sig-param"><span class="n">cmap</span><span class="o">=</span><span class="default_value">'Blues'</span></em>, <em class="sig-param"><span class="n">xtick</span><span class="o">=</span><span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">ytick</span><span class="o">=</span><span class="default_value">'octave'</span></em>, <em class="sig-param"><span class="n">xticklabel</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">yticklabel</span><span class="o">=</span><span class="default_value">'auto'</span></em>, <em class="sig-param"><span class="n">tick_loc</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tick_direction</span><span class="o">=</span><span class="default_value">'in'</span></em>, <em class="sig-param"><span class="n">label</span><span class="o">=</span><span class="default_value">'both'</span></em>, <em class="sig-param"><span class="n">grid</span><span class="o">=</span><span class="default_value">'both'</span></em>, <em class="sig-param"><span class="n">grid_linestyle</span><span class="o">=</span><span class="default_value">':'</span></em>, <em class="sig-param"><span class="n">grid_linewidth</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/visualization.html#save_animation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.save_animation" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a pianoroll to an animation in video or GIF format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – The filename to which the animation is saved.</p></li>
<li><p><strong>pianoroll</strong> (<em>np.ndarray</em>) – <p>A pianoroll to be plotted. The values should be in [0, 1] when data type
is float, and in [0, 127] when data type is integer.</p>
<ul>
<li><p>For a 2D array, shape=(num_time_step, num_pitch).</p></li>
<li><p>For a 3D array, shape=(num_time_step, num_pitch, num_channel),
where channels can be either RGB or RGBA.</p></li>
</ul>
</p></li>
<li><p><strong>window</strong> (<em>int</em>) – The window size to be applied to <cite>pianoroll</cite> for the animation.</p></li>
<li><p><strong>hop</strong> (<em>int</em>) – The hop size to be applied to <cite>pianoroll</cite> for the animation.</p></li>
<li><p><strong>fps</strong> (<em>int</em>) – The number of frames per second in the resulting video or GIF file.</p></li>
<li><p><strong>is_drum</strong> (<em>bool</em>) – A boolean number that indicates whether it is a percussion track.
Defaults to False.</p></li>
<li><p><strong>resolution</strong> (<em>int</em>) – The number of time steps used to represent a beat. Required and only
effective when <cite>xtick</cite> is ‘beat’.</p></li>
<li><p><strong>downbeats</strong> (<em>list</em>) – An array that indicates whether the time step contains a downbeat (i.e.,
the first time step of a bar).</p></li>
<li><p><strong>preset</strong> (<em>{'default'</em><em>, </em><em>'plain'</em><em>, </em><em>'frame'}</em>) – <p>A string that indicates the preset theme to use.</p>
<ul>
<li><p>In ‘default’ preset, the ticks, grid and labels are on.</p></li>
<li><p>In ‘frame’ preset, the ticks and grid are both off.</p></li>
<li><p>In ‘plain’ preset, the x- and y-axis are both off.</p></li>
</ul>
</p></li>
<li><p><strong>cmap</strong> (<cite>matplotlib.colors.Colormap</cite>) – The colormap to use in <a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.imshow.html#matplotlib.pyplot.imshow" title="(in Matplotlib v3.3.1)"><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib.pyplot.imshow()</span></code></a>. Defaults to
‘Blues’. Only effective when <cite>pianoroll</cite> is 2D.</p></li>
<li><p><strong>xtick</strong> (<em>{'auto'</em><em>, </em><em>'beat'</em><em>, </em><em>'step'</em><em>, </em><em>'off'}</em>) – A string that indicates what to use as ticks along the x-axis. If ‘auto’
is given, automatically set to ‘beat’ if <cite>resolution</cite> is also given
and set to ‘step’, otherwise. Defaults to ‘auto’.</p></li>
<li><p><strong>ytick</strong> (<em>{'octave'</em><em>, </em><em>'pitch'</em><em>, </em><em>'off'}</em>) – A string that indicates what to use as ticks along the y-axis.
Defaults to ‘octave’.</p></li>
<li><p><strong>xticklabel</strong> (<em>bool</em>) – Whether to add tick labels along the x-axis. Only effective when <cite>xtick</cite>
is not ‘off’.</p></li>
<li><p><strong>yticklabel</strong> (<em>{'auto'</em><em>, </em><em>'name'</em><em>, </em><em>'number'</em><em>, </em><em>'off'}</em>) – If ‘name’, use octave name and pitch name (key name when <cite>is_drum</cite> is
True) as tick labels along the y-axis. If ‘number’, use pitch number. If
‘auto’, set to ‘name’ when <cite>ytick</cite> is ‘octave’ and ‘number’ when <cite>ytick</cite>
is ‘pitch’. Defaults to ‘auto’. Only effective when <cite>ytick</cite> is not
‘off’.</p></li>
<li><p><strong>tick_loc</strong> (<em>tuple</em><em> or </em><em>list</em>) – The locations to put the ticks. Availables elements are ‘bottom’, ‘top’,
‘left’ and ‘right’. Defaults to (‘bottom’, ‘left’).</p></li>
<li><p><strong>tick_direction</strong> (<em>{'in'</em><em>, </em><em>'out'</em><em>, </em><em>'inout'}</em>) – A string that indicates where to put the ticks. Defaults to ‘in’. Only
effective when one of <cite>xtick</cite> and <cite>ytick</cite> is on.</p></li>
<li><p><strong>label</strong> (<em>{'x'</em><em>, </em><em>'y'</em><em>, </em><em>'both'</em><em>, </em><em>'off'}</em>) – A string that indicates whether to add labels to the x-axis and y-axis.
Defaults to ‘both’.</p></li>
<li><p><strong>grid</strong> (<em>{'x'</em><em>, </em><em>'y'</em><em>, </em><em>'both'</em><em>, </em><em>'off'}</em>) – A string that indicates whether to add grids to the x-axis, y-axis, both
or neither. Defaults to ‘both’.</p></li>
<li><p><strong>grid_linestyle</strong> (<em>str</em>) – Will be passed to <a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.grid.html#matplotlib.axes.Axes.grid" title="(in Matplotlib v3.3.1)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.grid()</span></code></a> as ‘linestyle’
argument.</p></li>
<li><p><strong>grid_linewidth</strong> (<em>float</em>) – Will be passed to <a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.grid.html#matplotlib.axes.Axes.grid" title="(in Matplotlib v3.3.1)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.grid()</span></code></a> as ‘linewidth’
argument.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pypianoroll.tonal_distance">
<code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">tonal_distance</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pianoroll_1</span></em>, <em class="sig-param"><span class="n">pianoroll_2</span></em>, <em class="sig-param"><span class="n">resolution</span></em>, <em class="sig-param"><span class="n">radii</span><span class="o">=</span><span class="default_value">1.0, 1.0, 0.5</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/metrics.html#tonal_distance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.tonal_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the tonal distance [1] between the two input pianorolls.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pianoroll_1</strong> (<em>ndarray</em>) – First pianoroll to evaluate.</p></li>
<li><p><strong>pianoroll_2</strong> (<em>ndarray</em>) – Second pianoroll to evaluate.</p></li>
<li><p><strong>resolution</strong> (<em>int</em>) – Time steps per beat.</p></li>
<li><p><strong>radii</strong> (<em>tuple of float</em>) – The radii of the three tonal circles (see Equation 3 in [1]).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">References</p>
<ol class="arabic simple">
<li><p>Christopher Harte, Mark Sandler, and Martin Gasser, “Detecting
harmonic change in musical audio,” in Proceedings of the 1st ACM
workshop on Audio and music computing multimedia, 2006.</p></li>
</ol>
</dd></dl>

<dl class="py function">
<dt id="pypianoroll.transpose">
<code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">transpose</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">semitone</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/core.html#transpose"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.transpose" title="Permalink to this definition">¶</a></dt>
<dd><p>Transpose the piano roll(s) by a number of semitones.</p>
<p>Positive values are for a higher key, while negative values are for
a lower key. Drum tracks are ignored.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<a class="reference internal" href="#pypianoroll.Multitrack" title="pypianoroll.Multitrack"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypianoroll.Multitrack</span></code></a> or <a class="reference internal" href="#pypianoroll.Track" title="pypianoroll.Track"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypianoroll.Track</span></code></a> object) – Object to transpose.</p></li>
<li><p><strong>semitone</strong> (<em>int</em>) – Number of semitones to transpose the piano roll(s).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pypianoroll.trim_trailing_silence">
<code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">trim_trailing_silence</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/core.html#trim_trailing_silence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.trim_trailing_silence" title="Permalink to this definition">¶</a></dt>
<dd><p>Trim the trailing silences of the piano roll(s).</p>
<p>All the piano rolls will have the same length after the trimming.</p>
</dd></dl>

<dl class="py function">
<dt id="pypianoroll.write">
<code class="sig-prename descclassname">pypianoroll.</code><code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pypianoroll/core.html#write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pypianoroll.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the object to a MIDI file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<a class="reference internal" href="#pypianoroll.Multitrack" title="pypianoroll.Multitrack"><code class="xref py py-class docutils literal notranslate"><span class="pre">pypianoroll.Multitrack</span></code></a> object) – Object to write.</p></li>
<li><p><strong>path</strong> (<em>str</em>) – Path to the MIDI file to write.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="multitrack.html" class="btn btn-neutral float-left" title="Multitrack Class" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Hao-Wen Dong

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>